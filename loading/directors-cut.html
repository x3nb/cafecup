<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eternal Estates: Film Production – Lights, Camera, Quest</title>
    <link href="https://fonts.googleapis.com/css2?family=Nosifer&family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&family=Roboto+Mono:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nosifer&family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&family=Roboto+Mono:wght@300;400;500&display=swap');
        body { 
            background: #000000 !important; /* Black theater void – cinematic immersion */
            color: #FFFFFF !important; /* White text for stark contrast */
            font-family: 'Roboto Mono', monospace; /* Script-like body */
            margin: 0; 
            padding: 0; 
            text-align: center; 
            position: relative;
            overflow-x: hidden;
            min-height: 100vh;
            /* Subtle film grain (ethereal texture – faint, static) */
            background-image: radial-gradient(circle at 25% 25%, rgba(255,255,255,0.01) 0%, transparent 50%), 
                              radial-gradient(circle at 75% 75%, rgba(255,255,255,0.01) 0%, transparent 50%);
            background-size: 100px 100px;
        }
        .container { 
            max-width: 100vw; 
            height: 100vh; 
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center; 
            opacity: 0; /* Gradual fade-in for "curtain rise" */
            transition: opacity 2s ease-in; 
        }
        .container.loaded { opacity: 1; } /* JS triggers after reel */
        .title { 
            font-family: 'Nosifer', cursive; /* Vampire-cryptic goth – romantic jagged */
            font-size: 4em; /* Looming marquee */
            color: #FFFFFF; /* White base */
            background: linear-gradient(to right, #FFFFFF 0%, #6495ED 50%, #FFFFFF 100%); /* White to cornflower tint gradient */
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
            background-clip: text; 
            margin: 20px 0; 
            letter-spacing: 5px; /* Cryptic spacing */
            text-shadow: 0 0 10px rgba(100, 149, 237, 0.5); /* Subtle cornflower glow */
            animation: pulse 2s ease-in-out infinite alternate; /* Romantic throb – no seasick */
            opacity: 0; 
            transition: opacity 1s ease-in; 
        }
        .title.visible { opacity: 1; }
        @keyframes pulse { 
            0% { text-shadow: 0 0 10px rgba(100, 149, 237, 0.5); } 
            100% { text-shadow: 0 0 20px rgba(100, 149, 237, 0.8); } 
        }
        .reel-bar { 
            width: 60%; 
            height: 20px; 
            background: #111111; /* Dark reel bg */
            border-radius: 10px; 
            margin: 20px auto; 
            overflow: hidden; 
            border: 1px solid #333333; /* Subtle frame */
            position: relative; 
        }
        .reel-fill { 
            height: 100%; 
            background: linear-gradient(to right, #FFFFFF 0%, #6495ED 100%); /* White to cornflower progression – film strip tint */
            width: 0%; 
            transition: width 5s ease-in-out; /* 5s reel roll */
            border-radius: 10px; 
            box-shadow: 0 0 5px rgba(100, 149, 237, 0.3); /* Cornflower glow */
        }
        .reel-text { 
            font-family: 'Roboto Mono', monospace; 
            font-size: 1em; 
            color: #FFFFFF; 
            margin: 10px 0; 
            opacity: 0; 
            transition: opacity 0.5s ease-in 1s; /* Reveal mid-reel */
        }
        .reel-text.visible { opacity: 1; }
        .nav-menu { 
            display: none; /* Hidden until load */
            flex-wrap: wrap; 
            justify-content: center; 
            margin-top: 40px; 
            opacity: 0; 
            transition: opacity 1s ease-in 5s; /* Fade in after reel */
        }
        .nav-menu.visible { 
            display: flex; 
            opacity: 1; 
        }
        .nav-link { 
            color: #FFFFFF; /* White base */
            background: linear-gradient(to right, #FFFFFF 0%, #6495ED 100%); /* White to cornflower tint gradient */
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
            background-clip: text; 
            text-decoration: none; 
            font-family: 'Roboto Mono', monospace; 
            font-size: 1.2em; 
            font-weight: 500; 
            margin: 10px 20px; 
            padding: 10px 20px; 
            border: 1px solid #333333; /* Subtle frame */
            border-radius: 5px; 
            transition: all 0.3s; 
            text-shadow: 0 0 5px rgba(100, 149, 237, 0.3); /* Cornflower glow */
            letter-spacing: 1px; 
        }
        .nav-link:hover { 
            background: linear-gradient(to right, #6495ED 0%, #FFFFFF 100%); /* Reverse gradient on hover */
            box-shadow: 0 0 10px rgba(100, 149, 237, 0.5); /* Blue tint pop */
            transform: scale(1.05); /* Subtle cinematic zoom */
        }
        .scripture { 
            color: #CCCCCC; /* Light grey */
            font-family: 'Roboto Mono', monospace; 
            font-style: italic; 
            font-size: 0.9em; 
            margin-top: 30px; 
            padding: 10px; 
            border: 1px solid #333333; 
            border-radius: 5px; 
            opacity: 0; 
            transition: opacity 1s ease-in 5.5s; /* Final fade */
        }
        .scripture.visible { opacity: 1; }
        footer { 
            color: #888888; /* Grey credits */
            font-size: 0.8em; 
            margin-top: 20px; 
            padding-top: 10px; 
            font-family: 'Roboto Mono', monospace; 
            opacity: 0; 
            transition: opacity 1s ease-in 6s; /* End credits roll */
        }
        footer.visible { opacity: 1; }
        .donate-link { 
            color: #6495ED; /* Cornflower accent */
            text-decoration: underline; 
            font-weight: bold; 
        }
        .donate-link:hover { color: #FFFFFF; }
        @media (max-width: 768px) { 
            .title { font-size: 2.5em; } 
            .reel-bar { width: 90%; } 
            .nav-menu { flex-direction: column; align-items: center; } 
            .nav-link { margin: 5px 0; width: 80%; } 
        }
        /* Typewriter for Reel Text (Cinematic Pace – CSS Fallback) */
        .typewriter { overflow: hidden; border-right: 2px solid #FFFFFF; white-space: nowrap; animation: typing 3s steps(40, end), blink-caret 0.75s step-end infinite; }
        @keyframes typing { from { width: 0; } to { width: 100%; } }
        @keyframes blink-caret { from, to { border-color: transparent; } 50% { border-color: #FFFFFF; } }
    </style>
</head>
<body>
    <div class="container" id="filmContainer">
        <!-- Loading Reel (Progression – 5s Film Strip) -->
        <div class="title visible" id="filmTitle">Eternal Estates</div>

        <div class="reel-bar">
            <div class="reel-fill" id="reelFill"></div>
        </div>

        <div class="reel-text typewriter" id="reelText">Cue the lights... Loading production. (Film reel rolling – 5s to premiere)</div>

        <!-- Nav Menu (Array of Links – Production Chapters) -->
        <div class="nav-menu" id="navMenu">
            <a href="about.html" class="nav-link">ABOUT</a>
            <a href="characters.html" class="nav-link">CHARACTERS</a>
            <a href="themes.html" class="nav-link">THEMES</a>
            <a href="support.html" class="nav-link">SUPPORT</a>
            <a href="requests.html" class="nav-link">REQUESTS</a>
            <a href="contact.html" class="nav-link">CONTACT</a>
            <a href="movie-times.html" class="nav-link">MOVIE TIMES</a>
            <a href="soundtrack.html" class="nav-link">MUSIC SOUNDTRACK</a>
        </div>

        <div class="scripture" id="filmScripture">
            <em>"In the beginning was the Word... and the light shines in the darkness." — John 1:1-5 (Production Note: Yeshua's eternal reel.)</em>
        </div>
    </div>

    <footer id="filmFooter">
        <p>STAR Productions: Share the reel. <a href="donate.html" class="donate-link">Support the Film (Tribe Credits)</a>.</p>
    </footer>

    <script>
        console.log('=== Film Production Reel Starting ==='); // Debug

        // Ensure DOM Ready (Bulletproof Reel Progression)
        document.addEventListener('DOMContentLoaded', () => {
            console.log('DOM ready – Reel rolling.'); // Debug

            const filmContainer = document.getElementById('filmContainer');
            const reelFill = document.getElementById('reelFill');
            const reelText = document.getElementById('reelText');
            const navMenu = document.getElementById('navMenu');
            const filmScripture = document.getElementById('filmScripture');
            const filmFooter = document.getElementById('filmFooter');

            let reelProgress = 0;
            const reelTexts = [
                'Cue the lights... 0%',
                'Shadows gathering... 25%',
                'Characters awakening... 50%',
                'Themes unveiling... 75%',
                'Premiere imminent... 100%'
            ];

            // Reel Progression (5s Film Strip – Actual Bar + Text Updates)
            const reelInterval = setInterval(() => {
                console.log('Reel step:', reelProgress + 1); // Debug
                reelProgress += 25; // 4 steps for 5s (1250ms interval, but smooth transition)
                reelFill.style.width = reelProgress + '%';
                reelText.textContent = reelTexts[Math.floor(reelProgress / 25)]; // Update text with %
                if (reelProgress >= 100) {
                    clearInterval(reelInterval);
                    console.log('Reel complete – Premiere!'); // Debug
                    // Reveal sequence (cinematic fade)
                    setTimeout(() => {
                        filmContainer.classList.add('loaded');
                        console.log('Film container lit.'); // Debug
                    }, 500);
                    setTimeout(() => {
                        navMenu.classList.add('visible');
                        console.log('Nav menu premiering.'); // Debug
                    }, 1000);
                    setTimeout(() => {
                        filmScripture.classList.add('visible');
                        filmFooter.classList.add('visible');
                        console.log('Credits rolling.'); // Debug
                    }, 1500);
                    // Unlock "Film Ticket" for realms (localStorage tease)
                    localStorage.setItem('filmTicket', 'premiere-access'); // Use in realms.html for "VIP Viewer" badge
                }
            }, 1250); // ~1.25s steps for 5s total

            // Fallback: Full reveal after 6s if script lags
            setTimeout(() => {
                filmContainer.classList.add('loaded');
                navMenu.classList.add('visible');
                filmScripture.classList.add('visible');
                filmFooter.classList.add('visible');
                reelFill.style.width = '100%';
                reelText.textContent = 'Premiere imminent... 100%';
                console.log('Fallback reel – Lights up!'); // Debug
            }, 6000);

            // Nav Link Enhancements (Cinematic Hover – Optional JS)
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    console.log('Chapter selected:', link.textContent); // Debug
                    // Pre-load tease (e.g., fade out before redirect)
                    filmContainer.style.opacity = '0.5';
                    setTimeout(() => {
                        // Redirect happens via href
                    }, 300);
                });
            });

            // Tie to Existing Pages (Map Links – Customize as Needed)
            // ABOUT → lore.html or index lore section
            // CHARACTERS → realms.html (kin as cast)
            // THEMES → blueprint.html (schematics as script notes)
            // SUPPORT → donate.html (tribe as backers)
            // REQUESTS → contact.html (fan requests)
            // CONTACT → email form
            // MOVIE TIMES → quests.html (schedule)
            // MUSIC SOUNDTRACK → audio.html (ambient tracks)
        });

        console.log('Film Reel Online – Lights, camera, quest!'); // Debug
    </script>
</body>
</html>
