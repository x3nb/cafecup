<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chimera Comfort Cafe Realms: Eternal Estates Map</title>
    <style>
        body { 
            background: linear-gradient(to bottom, #301934, #4b0082); /* Deep purple-indigo */
            color: #808080; 
            font-family: 'Georgia', serif; 
            margin: 0; 
            padding: 20px; 
            text-align: center; 
            position: relative;
            overflow-x: hidden;
            /* Subtle starry overlay for majesty */
            background-image: radial-gradient(2px 2px at 20px 30px, #FFD700, transparent), radial-gradient(2px 2px at 40px 70px, rgba(255,255,0,0.8), transparent);
            background-repeat: repeat;
            background-size: 50px 50px;
            animation: twinkle 4s linear infinite;
        }
        @keyframes twinkle { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .container { 
            max-width: 1000px; 
            margin: 0 auto; 
            background: rgba(48,25,52,0.8); 
            padding: 30px; 
            border-radius: 10px; 
            box-shadow: 0 0 30px rgba(100,149,237,0.5); /* Majestic glow */
            animation: fadeInMajestic 3s ease-in;
        }
        @keyframes fadeInMajestic { from { opacity: 0; transform: scale(0.95) rotateY(10deg); } to { opacity: 1; transform: scale(1) rotateY(0); } }
        h1 { color: #e6e6fa; text-shadow: 0 0 10px #FFD700; font-size: 3em; margin-bottom: 10px; font-weight: bold; }
        h2 { color: #ffd700; text-shadow: 0 0 5px #FFFF00; }
        /* Interview Section (Unchanged, but majestic polish) */
        .interview { background: rgba(100,149,237,0.1); padding: 20px; border-radius: 10px; margin: 20px 0; box-shadow: 0 0 15px rgba(255,215,0,0.3); }
        .question { 
            margin: 20px 0;
            opacity: 1 !important;
            visibility: visible !important;
            display: block !important;
            transform: none !important;
            transition: none;
        }
        .question label { display: block; margin: 10px 0; color: #e6e6fa; font-size: 1.1em; font-weight: bold; text-shadow: 0 0 3px #6495ED; }
        input[type="radio"] { margin: 5px 0; accent-color: #6495ED; }
        select { margin: 5px; padding: 8px; border-radius: 5px; border: 1px solid #6495ED; background: rgba(230,230,250,0.8); color: #301934; }
        #progressBar { width: 100%; height: 5px; background: #808080; border-radius: 5px; margin: 10px 0; overflow: hidden; box-shadow: 0 0 5px #FFD700; }
        #progressFill { height: 100%; background: linear-gradient(to right, #6495ED, #FFD700); transition: width 0.3s; border-radius: 5px; }
        button { background: #6495ED; color: #fff; padding: 10px 20px; border: none; border-radius: 15px; cursor: pointer; margin: 10px; transition: all 0.3s; font-family: 'Georgia', serif; box-shadow: 0 0 10px rgba(100,149,237,0.5); }
        button:hover { background: #FFFF00; color: #000; box-shadow: 0 0 20px #FFFF00; transform: scale(1.05); }
        button:disabled { background: #808080; color: #fff; cursor: not-allowed; box-shadow: none; }
        button.important { border: 2px solid #FFFF00; animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { box-shadow: 0 0 10px #FFFF00; } 50% { box-shadow: 0 0 20px #FFFF00; } }
        .important:hover { background: #FFFF00 !important; color: #000 !important; transform: scale(1.1); }
        .hidden { display: none; }
        #confirmationModal { background: rgba(100,149,237,0.2); padding: 20px; border-radius: 10px; margin: 20px 0; border: 1px solid #6495ED; box-shadow: 0 0 15px #FFD700; }
        /* Majestic Map Section */
        .map-section { margin-top: 40px; position: relative; height: 600px; min-height: 500px; }
        .map-hub { 
            position: absolute; 
            top: 50%; 
            left: 50%; 
            transform: translate(-50%, -50%); 
            background: linear-gradient(#FFD700, #FFA500); /* Gold light for Yeshua */
            border-radius: 50%; 
            width: 150px; 
            height: 150px; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center; 
            box-shadow: 0 0 30px #FFD700; 
            animation: glowHub 3s ease-in-out infinite alternate; 
            z-index: 10;
        }
        @keyframes glowHub { 0% { box-shadow: 0 0 20px #FFD700; } 100% { box-shadow: 0 0 40px #FFD700, 0 0 60px #FFA500; } }
        .hub-icon { width: 80px; height: 80px; border-radius: 50%; background: #fff; margin-bottom: 5px; display: flex; align-items: center; justify-content: center; font-size: 2em; }
        .hub-name { font-size: 1.2em; color: #301934; font-weight: bold; text-shadow: 0 0 5px #FFD700; }
        .kin-portal { 
            position: absolute; 
            width: 120px; 
            height: 120px; 
            border-radius: 50%; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center; 
            cursor: pointer; 
            transition: all 0.5s; 
            border: 2px solid #808080; /* Locked grey */
            box-shadow: 0 0 10px rgba(128,128,128,0.5); 
            animation: glitch 0.1s infinite; /* Subtle glitch for locked */
            z-index: 5;
        }
        .kin-portal.unlocked { 
            border-color: currentColor; 
            box-shadow: 0 0 20px currentColor; 
            animation: none; 
        }
        .kin-portal:hover { 
            transform: scale(1.2) rotate(5deg); 
            box-shadow: 0 0 30px currentColor, inset 0 0 20px rgba(255,255,0,0.3); 
            animation: portalOpen 0.5s ease-out; 
        }
        @keyframes portalOpen { 0% { transform: scale(1) rotate(0); opacity: 1; } 50% { transform: scale(1.3) rotate(10deg); opacity: 0.8; } 100% { transform: scale(1.2) rotate(5deg); opacity: 1; } }
        @keyframes glitch { 0%, 100% { transform: translate(0); } 20% { transform: translate(-2px, 2px); } 40% { transform: translate(-2px, -2px); } 60% { transform: translate(2px, 2px); } 80% { transform: translate(2px, -2px); } }
        .portal-icon { width: 60px; height: 60px; border-radius: 50%; margin-bottom: 5px; background: #fff; display: flex; align-items: center; justify-content: center; font-size: 1.5em; }
        .portal-name { font-size: 0.9em; color: #e6e6fa; font-weight: bold; text-shadow: 0 0 3px currentColor; white-space: nowrap; }
        .portal-teaser { font-size: 0.7em; color: #808080; margin-top: 2px; }
        /* Color Associations */
        .star-violet { color: #EE82EE; background: linear-gradient(45deg, #EE82EE, #DA70D6); }
        .milo-mint { color: #98FB98; background: linear-gradient(45deg, #98FB98, #90EE90); }
        .chari-lavender { color: #E6E6FA; background: linear-gradient(45deg, #E6E6FA, #DDA0DD); }
        .hans-purple { color: #4B0082; background: linear-gradient(45deg, #4B0082, #301934); }
        .miki-yellow { color: #FFFF00; background: linear-gradient(45deg, #FFFF00, #FFD700); }
        /* Radial Positioning (Desktop) */
        .kin-portal:nth-child(1) { top: 20%; left: 20%; transform: rotate(72deg) translateY(-200px); } /* STAR */
        .kin-portal:nth-child(2) { top: 20%; right: 20%; transform: rotate(144deg) translateY(-200px); } /* Milo */
        .kin-portal:nth-child(3) { bottom: 20%; right: 20%; transform: rotate(216deg) translateY(200px); } /* Chari */
        .kin-portal:nth-child(4) { bottom: 20%; left: 20%; transform: rotate(288deg) translateY(200px); } /* Hans */
        .kin-portal:nth-child(5) { top: 50%; right: 5%; transform: rotate(0deg) translateX(200px); } /* Miki - adjusted for 5 */
        /* Mobile Stack */
        @media (max-width: 768px) {
            .map-hub { position: static; transform: none; margin: 20px auto; }
            .kin-portal { position: static; transform: none; margin: 10px auto; width: 100px; height: 100px; }
            .map-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; }
        }
        /* Interview Styles (Majestic Polish) */
        label { display: block; margin: 10px 0; color: #e6e6fa; text-shadow: 0 0 3px #FFD700; }
        input[type="radio"], select { margin: 5px; padding: 5px; border-radius: 5px; border: 1px solid #6495ED; background: rgba(230,230,250,0.8); color: #301934; box-shadow: 0 0 5px rgba(255,215,0,0.3); }
        #progressText { color: #ffd700; font-size: 0.9em; text-shadow: 0 0 3px #FFFF00; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŒ™ Chimera Comfort Cafe Realms: Majestic Map ðŸŒ™</h1>
        <p style="color: #ffd700; font-style: italic; text-shadow: 0 0 5px #FFFF00;">Yeshua's light at the heart, kin portals orbiting eternal estates. Unlock the map through your questâ€”glitchy rifts await.</p>

        <!-- Interview Section (Fixed & Visible) -->
        <div id="interview" class="interview">
            <h2 style="color: #e6e6fa; text-shadow: 0 0 5px #6495ED;">ðŸŒ™ STAR & Miki's Realm Interview: No Ordinary Quest ðŸŒ™</h2>
            <p style="color: #808080; font-style: italic; margin-bottom: 20px;">
                <em>STAR:</em> Heir, this is no ordinary questâ€”the realms respond to your true spark. Choose answers carefully, as they weave your path through the eternal estates. <em>Miki:</em> Riff with honesty; your rhythm reveals the right realm!
            </p>
            <div id="progressBar">
                <div id="progressFill" style="width: 0%;"></div>
            </div>
            <p id="progressText" style="color: #808080; font-size: 0.9em;">Question 1 of 4 â€“ Breathe and reflect. (Scroll if needed; all questions below.)</p>
            
            <form id="realmQuiz">
                <div class="question">
                    <label>1. Preferred Pace: What tempo calls to your soulâ€”gentle brews or vibrant vibes?</label><br>
                    <input type="radio" name="pace" value="calm" id="calm"> Calm & Reflective (Coffee Realms)<br>
                    <input type="radio" name="pace" value="energetic" id="energetic"> Energetic & Expressive (Music Realms)<br>
                </div>
                
                <div class="question">
                    <label>2. Creative Spark: Do visions of stories or symphonies stir your depths?</label><br>
                    <input type="radio" name="creative" value="stories" id="stories"> Stories & Secrets (Veil Realms)<br>
                    <input type="radio" name="creative" value="sounds" id="sounds"> Sounds & Rhythms (Harmony Realms)<br>
                </div>
                
                <div class="question">
                    <label>3. Social Shade: Seek solitary shadows or kin-knit connections?</label><br>
                    <input type="radio" name="social" value="solitary" id="solitary"> Solitary Sanctuary (Recluse Paths)<br>
                    <input type="radio" name="social" value="kin" id="kin"> Kin & Collective (Tribe Bonds)<br>
                </div>
                
                <div class="question">
                    <label>4. Adventure Flavor: Gentle drifts through mists or bold rifts into the unknown?</label><br>
                    <select name="adventure" style="padding: 5px; border-radius: 5px; border: 1px solid #6495ED;">
                        <option value="gentle">Gentle Drifts (Cozy
